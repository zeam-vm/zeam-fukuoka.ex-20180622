## Phoenixへの軽量コールバックスレッドの適用

1. 1つの受付プロセスがポート待機している
2. 受付プロセスが1つの接続要求を受理すると，**あらかじめ起動しているセッション処理プロセスに非同期的に接続要求を送信**して以降の接続処理を委ねて，次の接続要求をポート待機する
3. **セッション処理プロセスは接続要求を受けると軽量コールバックスレッドを起動する**
  * **1つの軽量コールバックスレッドで1つの接続要求を処理する**
  * **軽量コールバックスレッド**が接続要求を処理するためにネットワークやデータベースにI/Oアクセスするが，その際にあらかじめ起動している複数の非同期プロセスにI/O処理を委ね，続きの処理を行う
4. 非同期スレッドがそれぞれI/Oにアクセスして結果を**セッション処理する軽量コールバックスレッド**に返す
 * **軽量コールバックスレッド**が結果を受け取り，続きの処理を行う

接続要求ごとに数KB程度しかメモリを消費しないで済む

**→ 同時セッション最大数とレイテンシを改善できる**